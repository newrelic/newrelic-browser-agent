<!DOCTYPE html>
<!--
  Copyright 2020 New Relic Corporation.
  PDX-License-Identifier: Apache-2.0
-->
<html>
  <head>
    <meta charset="utf-8">
    <title>CAT header on same-origin XHR</title>
    {init}
    <script type="text/javascript">
      if (!NREUM.loader_config) NREUM.loader_config = {}
      try {
        NREUM.loader_config.xpid = window.location.search.match(/xpid=([^&]*)/)[1]
      } catch (e) {
        NREUM.loader_config.xpid = '12#36'
      }
    </script>
    {config}
    {loader}
    <script type="text/javascript">
      var xhr = new XMLHttpRequest()
      var testIdMatches = window.location.search.match(/testId=([^&]*)/)
      var testId = testIdMatches ? testIdMatches[1] : ''
      var url = '/same-origin/' + testId
      xhr.open('GET', url)
      xhr.send()
    </script>
  </head>
  <body>
  </body>
</html>
