<!--
  Copyright 2020 New Relic Corporation. All rights reserved.
  SPDX-License-Identifier: Apache-2.0
-->

<!DOCTYPE html>
<html>
  <head>
    <title>RUM Unit Test</title>
    {init}
    {loader}
    {config}
  </head>
  <body>
    This page creates a timer loop that will call setTimeout 100 times
    <script>
      var start = null
      var count = 0

      document.addEventListener('click', function() {
        count = 0
        loop()
      })

      newrelic.setCustomAttribute('aargh', 'somanytimers')
      loop()

      function loop () {
        count++
        if (count > 100) {
          return window.timerLoopDone = true
        }
        setTimeout(loop, 0)
      }
    </script>
  </body>
</html>
