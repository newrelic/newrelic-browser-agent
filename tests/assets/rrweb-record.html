<!DOCTYPE html>
<!--
  Copyright 2020 New Relic Corporation.
  PDX-License-Identifier: Apache-2.0
-->
<html>
<head>
  <title>RUM Unit Test</title>
  <style>
    .left{
      position: absolute; left: 50px; top: 200px;
    }
    .right {
      position: absolute; right: 50px; top: 200px;
    }
  </style>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/3.0.0/pure-min.css" referrerpolicy="no-referrer" />
  {init}
  {config}
  <script>
    localStorage.clear()
    NREUM.init.session_replay = {enabled: true, collect_fonts: true}
    NREUM.init.privacy.cookies_enabled = true
    // NREUM.init.feature_flags = ['soft_nav'] // uncomment to enable soft navigation feature
  </script>
   <script type="text/javascript">
			let i = 0
			document.addEventListener('click', function () {
				window.location.hash = Math.random()

        const xhr = new XMLHttpRequest()
        xhr.open('POST', '/echo')
        xhr.send()
        fetch('/json')
        newrelic.noticeError('boogie')

				const elem = document.createElement('div')
				elem.innerHTML = 'TEST' + i++
				document.body.appendChild(elem)
			})
    </script>
  {loader}
</head>
<body>
  this is a page intended to "manually" set up session replay and bypass the default "off" configs
  <hr />
  <hr />
  <div class="input-group">
    <span class="input-group-text">With textarea</span>
    <textarea class="form-control" aria-label="With textarea"></textarea>
    <input type="text" value="test">
    <input type="password" value="mypassword">
  </div>
  <div id="content-editable-div" contenteditable="true">Content Editable Div</div>
  <hr />
  <button class="pure-button" onclick="moveImage()">Click</button>
  <a href="./rrweb-record.html" target="_blank">New Tab</a>
  <img src="https://upload.wikimedia.org/wikipedia/commons/d/d7/House_of_Commons_Chamber_1.png" />
  <script>
    function moveImage(){
      document.querySelector("img").classList.toggle("left")
      document.querySelector("img").classList.toggle("right")
    }
    setTimeout(() => {
      const ss = document.createElement('link')
      ss.rel = 'stylesheet'
      ss.href = 'https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css'
      document.head.appendChild(ss)
      console.log("appended...")
    }, 3000)
  </script>
</body>
</html>
