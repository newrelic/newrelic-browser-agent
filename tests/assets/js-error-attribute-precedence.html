<!DOCTYPE html>
<!--
  Copyright 2020 New Relic Corporation.
  PDX-License-Identifier: Apache-2.0
-->
<html>
  <head>
    {init}
    {config}
    {loader}

    <script>
      newrelic.setCustomAttribute('localKey', 1)
      newrelic.interaction().setAttribute('localKey', 2)
      newrelic.noticeError(new Error("My error"))
      setTimeout(() => newrelic.interaction().save().end(), 1) // this delay is needed because Safari's performance.now() is still a rounded number rather than precise decimal
      // That means it's highly likely here the ixn start & end time would be the same if we didn't delay the .end, leading to jserror not being associated with the ixn.
    </script>
    <title>RUM Unit Test</title>
  </head>
  <body>
    This page throws a new error with a caught exception before the page loads
  </body>
</html>
